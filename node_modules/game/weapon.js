var Body = require('physics/body');
var Projectile = require('game/projectile');

var Weapon = function Weapon(player) {
    this.reloadDelay = 500;
    this.m_currentReload = 0; //Need to be > reloadDelay to fire
    this.player_id = player.id;
};

Weapon.prototype = {
    tick: function(elapsedTime) {
        if(this.m_currentReload <= this.reloadDelay) {
            this.m_currentReload += elapsedTime;
        }
    },

    fire: function(game, src, dest) {
        if(this.m_currentReload >= this.reloadDelay) {
            this.m_currentReload = 0;
            var proj = new Projectile(src, dest, game.getPlayer(this.player_id));
            game.addProjectile(proj);
        }
    }
};

module.exports = Weapon;